{"ast":null,"code":"import { API_CONFIG } from '../config/config';\nconst MARKETPLACE_API_URL = `${API_CONFIG.MARKETPLACE_SERVICE}/api/market/products`;\nexport const createProduct = async productData => {\n  try {\n    const userId = localStorage.getItem('userId');\n    const response = await fetch(MARKETPLACE_API_URL, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        ...(userId ? {\n          'X-User-Id': userId\n        } : {})\n      },\n      body: JSON.stringify(productData)\n    });\n    if (!response.ok) {\n      const errorData = await response.json().catch(() => ({}));\n      throw new Error(errorData.message || `HTTP ${response.status}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('❌ Error creating product:', error);\n    throw error;\n  }\n};\nexport const uploadProductImage = async (productId, imageFile) => {\n  try {\n    const userId = localStorage.getItem('userId');\n    if (!userId) {\n      throw new Error('User not logged in');\n    }\n    const formData = new FormData();\n    formData.append('file', imageFile);\n    const response = await fetch(`${MARKETPLACE_API_URL}/${productId}/images?sellerId=${userId}`, {\n      method: 'POST',\n      body: formData\n    });\n    if (!response.ok) {\n      const text = await response.text();\n      throw new Error(`Image upload failed: ${text || `HTTP ${response.status}`}`);\n    }\n    return await response.json();\n  } catch (error) {\n    console.error('❌ Error uploading image:', error);\n    throw error;\n  }\n};\nexport default {\n  createProduct,\n  uploadProductImage\n};","map":{"version":3,"names":["API_CONFIG","MARKETPLACE_API_URL","MARKETPLACE_SERVICE","createProduct","productData","userId","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","ok","errorData","json","catch","Error","message","status","error","console","uploadProductImage","productId","imageFile","formData","FormData","append","text"],"sources":["C:/Users/Hp/Desktop/Cloud_Project/frontend/src/services/productCreationService.js"],"sourcesContent":["import { API_CONFIG } from '../config/config';\r\n\r\nconst MARKETPLACE_API_URL = `${API_CONFIG.MARKETPLACE_SERVICE}/api/market/products`;\r\n\r\nexport const createProduct = async (productData) => {\r\n  try {\r\n    const userId = localStorage.getItem('userId');\r\n    \r\n    const response = await fetch(MARKETPLACE_API_URL, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(userId ? { 'X-User-Id': userId } : {}),\r\n      },\r\n      body: JSON.stringify(productData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('❌ Error creating product:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const uploadProductImage = async (productId, imageFile) => {\r\n  try {\r\n    const userId = localStorage.getItem('userId');\r\n    if (!userId) {\r\n      throw new Error('User not logged in');\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', imageFile);\r\n\r\n    const response = await fetch(\r\n      `${MARKETPLACE_API_URL}/${productId}/images?sellerId=${userId}`,\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const text = await response.text();\r\n      throw new Error(`Image upload failed: ${text || `HTTP ${response.status}`}`);\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('❌ Error uploading image:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default { createProduct, uploadProductImage };\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAQ,kBAAkB;AAE7C,MAAMC,mBAAmB,GAAG,GAAGD,UAAU,CAACE,mBAAmB,sBAAsB;AAEnF,OAAO,MAAMC,aAAa,GAAG,MAAOC,WAAW,IAAK;EAClD,IAAI;IACF,MAAMC,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAE7C,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAACR,mBAAmB,EAAE;MAChDS,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,IAAIN,MAAM,GAAG;UAAE,WAAW,EAAEA;QAAO,CAAC,GAAG,CAAC,CAAC;MAC3C,CAAC;MACDO,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACV,WAAW;IAClC,CAAC,CAAC;IAEF,IAAI,CAACI,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAMC,SAAS,GAAG,MAAMR,QAAQ,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;MACzD,MAAM,IAAIC,KAAK,CAACH,SAAS,CAACI,OAAO,IAAI,QAAQZ,QAAQ,CAACa,MAAM,EAAE,CAAC;IACjE;IACA,OAAO,MAAMb,QAAQ,CAACS,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;IACjD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,OAAO,MAAME,kBAAkB,GAAG,MAAAA,CAAOC,SAAS,EAAEC,SAAS,KAAK;EAChE,IAAI;IACF,MAAMrB,MAAM,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;IAC7C,IAAI,CAACF,MAAM,EAAE;MACX,MAAM,IAAIc,KAAK,CAAC,oBAAoB,CAAC;IACvC;IAEA,MAAMQ,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,SAAS,CAAC;IAElC,MAAMlB,QAAQ,GAAG,MAAMC,KAAK,CAC1B,GAAGR,mBAAmB,IAAIwB,SAAS,oBAAoBpB,MAAM,EAAE,EAC/D;MACEK,MAAM,EAAE,MAAM;MACdE,IAAI,EAAEe;IACR,CACF,CAAC;IAED,IAAI,CAACnB,QAAQ,CAACO,EAAE,EAAE;MAChB,MAAMe,IAAI,GAAG,MAAMtB,QAAQ,CAACsB,IAAI,CAAC,CAAC;MAClC,MAAM,IAAIX,KAAK,CAAC,wBAAwBW,IAAI,IAAI,QAAQtB,QAAQ,CAACa,MAAM,EAAE,EAAE,CAAC;IAC9E;IACA,OAAO,MAAMb,QAAQ,CAACS,IAAI,CAAC,CAAC;EAC9B,CAAC,CAAC,OAAOK,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACb;AACF,CAAC;AAED,eAAe;EAAEnB,aAAa;EAAEqB;AAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}