{"ast":null,"code":"import _objectSpread from\"C:/Users/Hp/Desktop/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{API_CONFIG}from'../config/config';const MARKETPLACE_API_URL=\"\".concat(API_CONFIG.MARKETPLACE_SERVICE,\"/api/market/products\");export const createProduct=async productData=>{try{const userId=localStorage.getItem('userId');const response=await fetch(MARKETPLACE_API_URL,{method:'POST',headers:_objectSpread({'Content-Type':'application/json'},userId?{'X-User-Id':userId}:{}),body:JSON.stringify(productData)});if(!response.ok){const errorData=await response.json().catch(()=>({}));throw new Error(errorData.message||\"HTTP \".concat(response.status));}return await response.json();}catch(error){console.error('❌ Error creating product:',error);throw error;}};export const uploadProductImage=async(productId,imageFile)=>{try{const userId=localStorage.getItem('userId');if(!userId){throw new Error('User not logged in');}const formData=new FormData();formData.append('file',imageFile);const response=await fetch(\"\".concat(MARKETPLACE_API_URL,\"/\").concat(productId,\"/images?sellerId=\").concat(userId),{method:'POST',body:formData});if(!response.ok){const text=await response.text();throw new Error(\"Image upload failed: \".concat(text||\"HTTP \".concat(response.status)));}return await response.json();}catch(error){console.error('❌ Error uploading image:',error);throw error;}};export default{createProduct,uploadProductImage};","map":{"version":3,"names":["API_CONFIG","MARKETPLACE_API_URL","concat","MARKETPLACE_SERVICE","createProduct","productData","userId","localStorage","getItem","response","fetch","method","headers","_objectSpread","body","JSON","stringify","ok","errorData","json","catch","Error","message","status","error","console","uploadProductImage","productId","imageFile","formData","FormData","append","text"],"sources":["C:/Users/Hp/Desktop/frontend/src/services/productCreationService.js"],"sourcesContent":["import { API_CONFIG } from '../config/config';\r\n\r\nconst MARKETPLACE_API_URL = `${API_CONFIG.MARKETPLACE_SERVICE}/api/market/products`;\r\n\r\nexport const createProduct = async (productData) => {\r\n  try {\r\n    const userId = localStorage.getItem('userId');\r\n    \r\n    const response = await fetch(MARKETPLACE_API_URL, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        ...(userId ? { 'X-User-Id': userId } : {}),\r\n      },\r\n      body: JSON.stringify(productData),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const errorData = await response.json().catch(() => ({}));\r\n      throw new Error(errorData.message || `HTTP ${response.status}`);\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('❌ Error creating product:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport const uploadProductImage = async (productId, imageFile) => {\r\n  try {\r\n    const userId = localStorage.getItem('userId');\r\n    if (!userId) {\r\n      throw new Error('User not logged in');\r\n    }\r\n\r\n    const formData = new FormData();\r\n    formData.append('file', imageFile);\r\n\r\n    const response = await fetch(\r\n      `${MARKETPLACE_API_URL}/${productId}/images?sellerId=${userId}`,\r\n      {\r\n        method: 'POST',\r\n        body: formData,\r\n      }\r\n    );\r\n\r\n    if (!response.ok) {\r\n      const text = await response.text();\r\n      throw new Error(`Image upload failed: ${text || `HTTP ${response.status}`}`);\r\n    }\r\n    return await response.json();\r\n  } catch (error) {\r\n    console.error('❌ Error uploading image:', error);\r\n    throw error;\r\n  }\r\n};\r\n\r\nexport default { createProduct, uploadProductImage };\r\n"],"mappings":"iHAAA,OAASA,UAAU,KAAQ,kBAAkB,CAE7C,KAAM,CAAAC,mBAAmB,IAAAC,MAAA,CAAMF,UAAU,CAACG,mBAAmB,wBAAsB,CAEnF,MAAO,MAAM,CAAAC,aAAa,CAAG,KAAO,CAAAC,WAAW,EAAK,CAClD,GAAI,CACF,KAAM,CAAAC,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAE7C,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAACT,mBAAmB,CAAE,CAChDU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAAC,aAAA,EACL,cAAc,CAAE,kBAAkB,EAC9BP,MAAM,CAAG,CAAE,WAAW,CAAEA,MAAO,CAAC,CAAG,CAAC,CAAC,CAC1C,CACDQ,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACX,WAAW,CAClC,CAAC,CAAC,CAEF,GAAI,CAACI,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,CAAAC,SAAS,CAAG,KAAM,CAAAT,QAAQ,CAACU,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,KAAO,CAAC,CAAC,CAAC,CAAC,CACzD,KAAM,IAAI,CAAAC,KAAK,CAACH,SAAS,CAACI,OAAO,UAAApB,MAAA,CAAYO,QAAQ,CAACc,MAAM,CAAE,CAAC,CACjE,CACA,MAAO,MAAM,CAAAd,QAAQ,CAACU,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,2BAA2B,CAAEA,KAAK,CAAC,CACjD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,kBAAkB,CAAG,KAAAA,CAAOC,SAAS,CAAEC,SAAS,GAAK,CAChE,GAAI,CACF,KAAM,CAAAtB,MAAM,CAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC,CAC7C,GAAI,CAACF,MAAM,CAAE,CACX,KAAM,IAAI,CAAAe,KAAK,CAAC,oBAAoB,CAAC,CACvC,CAEA,KAAM,CAAAQ,QAAQ,CAAG,GAAI,CAAAC,QAAQ,CAAC,CAAC,CAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,CAAEH,SAAS,CAAC,CAElC,KAAM,CAAAnB,QAAQ,CAAG,KAAM,CAAAC,KAAK,IAAAR,MAAA,CACvBD,mBAAmB,MAAAC,MAAA,CAAIyB,SAAS,sBAAAzB,MAAA,CAAoBI,MAAM,EAC7D,CACEK,MAAM,CAAE,MAAM,CACdG,IAAI,CAAEe,QACR,CACF,CAAC,CAED,GAAI,CAACpB,QAAQ,CAACQ,EAAE,CAAE,CAChB,KAAM,CAAAe,IAAI,CAAG,KAAM,CAAAvB,QAAQ,CAACuB,IAAI,CAAC,CAAC,CAClC,KAAM,IAAI,CAAAX,KAAK,yBAAAnB,MAAA,CAAyB8B,IAAI,UAAA9B,MAAA,CAAYO,QAAQ,CAACc,MAAM,CAAE,CAAE,CAAC,CAC9E,CACA,MAAO,MAAM,CAAAd,QAAQ,CAACU,IAAI,CAAC,CAAC,CAC9B,CAAE,MAAOK,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD,KAAM,CAAAA,KAAK,CACb,CACF,CAAC,CAED,cAAe,CAAEpB,aAAa,CAAEsB,kBAAmB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}